{"mappings":"YAAO,SAASA,EAAsBC,GAClC,OAAOA,EAAMC,KAAI,SAAAC,GACb,IAAQC,EAAmCD,EAAnCC,SAAUC,EAAyBF,EAAzBE,MAAOC,EAAkBH,EAAlBG,cACnBC,EAAQD,EACV,mCAAiDE,OAAdF,GACnC,sCACJ,MAAO,qBAGDE,OADNH,EAAM,uBACeG,OAAfD,EAAM,WACbC,OADsBH,EAAM,aACnBG,OAATJ,EAAS,c,IAETK,KAAK,G,CCZZ,IAEIC,EADiB,EAQrB,IAAMC,EAAU,CACZC,OAAO,MACPC,QAAS,CACLC,cAAe,+NAKvB,SAASC,EAAoBC,GACzB,IAAMC,EAAe,IAAIC,gBAAgB,CACrCC,MAAOH,EACPI,eAAe,EACfC,SAAU,QACVC,KAAAZ,IAEJ,OAAOa,MAAM,GAAef,OArBf,4CAqBY,KAAgBA,OAAbS,GAAgBN,GACvCa,MAAK,SAAAC,GACN,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAMC,YAEhB,OAAOH,EAAII,M,IAEZL,MAAK,SAAAM,GAEJ,IAAMC,EAAY,CACdD,KAAMA,EAAKE,QACXC,WAAYvB,IAASoB,EAAKI,aAG9B,OADAxB,GAAQ,EACDqB,C,IClCnB,IAAMI,EAAWC,SAASC,cAAc,cAClCC,EAAOF,SAASC,cAAc,cAC9BE,EAAcH,SAASC,cAAc,cAEvCG,EAAY,GAChBF,EAAKG,iBAAiB,UAItB,SAAsBC,GAIlB,GAHAA,EAAEC,iBACFR,EAASS,UAAY,KACrBJ,EAAYE,EAAEG,OAAOC,SAASC,aAAaC,OAExC,OAAOC,MAAM,4BDZhBvC,EALiB,ECqBjBK,EAAoByB,GAAWhB,MAAK,SAAA0B,GAC5BA,EAAKjB,WACLM,EAAYY,UAAUC,OAAO,cAE7Bb,EAAYY,UAAUE,IAAI,cAG9BlB,EAASmB,mBAAmB,YAAatD,EAAsBkD,EAAKpB,M,OAnB5ES,EAAYE,iBAAiB,SAyB7B,SAA4BC,GACxBA,EAAEC,iBACF5B,EAAoByB,GAAWhB,MAAK,SAAA0B,GAChCf,EAASmB,mBAAmB,YAAatD,EAAsBkD,EAAKpB,OAChEoB,EAAKjB,YACLM,EAAYY,UAAUC,OAAO,a","sources":["src/filmApi/filmListmarkUp.js","src/filmApi/fetchFilm.js","src/filmApi/filmApi.js"],"sourcesContent":["export function createFilmsListMarkUp(films) {\n    return films.map(film => {\n        const { overview, title, backdrop_path } = film;\n        const image = backdrop_path ?\n            `https://image.tmdb.org/t/p/w500/${backdrop_path}` :\n            'https://via.placeholder.com/500x281';\n        return `\n    <li>\n  <h2>${title}</h2>\n  <img src=\"${image}\" alt=\"${title}\">\n  <p>${overview}</p>\n</li>`\n    }).join('');\n}","const API_KEY = 'f4fc383e5974e2ac547a6b655d2da3b0';\nconst DEFAULT_PAGE = 1;\nlet page = DEFAULT_PAGE;\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie'\n\nfunction resetPage() {\n    page = DEFAULT_PAGE;\n}\n\nconst options = {\n    method:'get',\n    headers: {\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNGZjMzgzZTU5NzRlMmFjNTQ3YTZiNjU1ZDJkYTNiMCIsInN1YiI6IjY1NGMxNmFhNDFhNTYxMzM2YTI0OWZkMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xrML7A2wgEuY19W-c15nANg6x6o7f5jv_k3EA8kmHGo',\n        \n    }\n}\n\nfunction fetchFilmListByName(movieName) {\n    const searchParams = new URLSearchParams({\n        query: movieName,\n        include_adult: false,\n        language: 'en-US',\n        page,\n    })\n    return fetch(`${BASE_URL}?${searchParams}`, options)\n        .then(res => {\n        if (!res.ok) {\n            throw new Error(statusText);\n        }\n            return res.json();\n    \n        }).then(data => {\n          \n            const filmsdata = {\n                data: data.results,\n                isLastPage: page === data.total_pages,\n            }\n            page += 1;\n            return filmsdata;\n    })\n}\n\nexport { fetchFilmListByName, resetPage }","import 'modern-normalize';\nimport { createFilmsListMarkUp } from './filmListmarkUp.js';\nimport { fetchFilmListByName, resetPage } from './fetchFilm.js'\n\nconst filmList = document.querySelector('.film-list');\nconst form = document.querySelector('.searchbox');\nconst loadMoreBtn = document.querySelector('.load-more')\n\nlet movieName = '';\nform.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadMoreBtnClick)\n\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    filmList.innerHTML = '';\n    movieName = e.target.elements.filmToSearch.value;\n    if (!movieName) {\n       return alert('Please eneter film name!');\n        \n    }\n    resetPage();\n    fetchFilmListByName(movieName).then(list => {\n        if (list.isLastPage) {\n            loadMoreBtn.classList.remove('is-visible');\n        } else {\n            loadMoreBtn.classList.add('is-visible');\n        }\n        \n        filmList.insertAdjacentHTML('beforeend', createFilmsListMarkUp(list.data))\n    })\n\n}\n\n\nfunction onLoadMoreBtnClick(e) {\n    e.preventDefault();\n    fetchFilmListByName(movieName).then(list => {\n        filmList.insertAdjacentHTML('beforeend', createFilmsListMarkUp(list.data))\n        if (list.isLastPage) { \n            loadMoreBtn.classList.remove('is-visible');\n}\n\n    })\n}\n"],"names":["$f7d81fbffa8e5e7c$export$268d77e8ee9a837b","films","map","film","overview","title","backdrop_path","image","concat","join","$1b5cf2909ae9bf54$var$page","$1b5cf2909ae9bf54$var$options","method","headers","Authorization","$1b5cf2909ae9bf54$export$9b1a405b459fdfbd","movieName","searchParams","URLSearchParams","query","include_adult","language","page","fetch","then","res","ok","Error","statusText","json","data","filmsdata","results","isLastPage","total_pages","$8a39a3e728b38ae9$var$filmList","document","querySelector","$8a39a3e728b38ae9$var$form","$8a39a3e728b38ae9$var$loadMoreBtn","$8a39a3e728b38ae9$var$movieName","addEventListener","e","preventDefault","innerHTML","target","elements","filmToSearch","value","alert","list","classList","remove","add","insertAdjacentHTML"],"version":3,"file":"filmApi.926b7510.js.map"}