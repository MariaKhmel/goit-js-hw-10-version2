{"mappings":"AAAO,SAASA,EAAsBC,GAClC,OAAOA,EAAMC,KAAIC,IACb,MAAMC,SAAEA,EAAQC,MAAEA,EAAKC,cAAEA,GAAkBH,EAI3C,MAAO,qBAEPE,uBALcC,EACV,mCAAmCA,IACnC,+CAIiBD,aACtBD,cACD,IACCG,KAAK,G,CCVZ,IAAIC,EADiB,EAQrB,MAAMC,EAAU,CACZC,OAAO,MACPC,QAAS,CACLC,cAAe,+NAKvB,SAASC,EAAoBC,GACzB,MAAMC,EAAe,IAAIC,gBAAgB,CACrCC,MAAOH,EACPI,eAAe,EACfC,SAAU,Q,KACVX,IAEJ,OAAOY,MAAM,6CAAeL,IAAgBN,GACvCY,MAAKC,IACN,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAMC,YAEhB,OAAOH,EAAII,MAAM,IAElBL,MAAKM,IAEJ,MAAMC,EAAY,CACdD,KAAMA,EAAKE,QACXC,WAAYtB,IAASmB,EAAKI,aAG9B,OADAvB,GAAQ,EACDoB,CAAS,G,CClC5B,MAAMI,EAAWC,SAASC,cAAc,cAClCC,EAAOF,SAASC,cAAc,cAC9BE,EAAcH,SAASC,cAAc,cAE3C,IAAIG,EAAY,GAChBF,EAAKG,iBAAiB,UAItB,SAAsBC,GAIlB,GAHAA,EAAEC,iBACFR,EAASS,UAAY,GACrBJ,EAAYE,EAAEG,OAAOC,SAASC,aAAaC,OACtCR,EACF,OAAOS,MAAM,4BDZhBtC,EALiB,ECqBjBK,EAAoBwB,GAAWhB,MAAK0B,IAC5BA,EAAKjB,WACLM,EAAYY,UAAUC,OAAO,cAE7Bb,EAAYY,UAAUE,IAAI,cAG9BlB,EAASmB,mBAAmB,YAAanD,EAAsB+C,EAAKpB,MAAM,G,IAnBlFS,EAAYE,iBAAiB,SAyB7B,SAA4BC,GACxBA,EAAEC,iBACF3B,EAAoBwB,GAAWhB,MAAK0B,IAChCf,EAASmB,mBAAmB,YAAanD,EAAsB+C,EAAKpB,OAChEoB,EAAKjB,YACLM,EAAYY,UAAUC,OAAO,aAAa,G","sources":["src/filmApi/filmListmarkUp.js","src/filmApi/fetchFilm.js","src/filmApi/filmApi.js"],"sourcesContent":["export function createFilmsListMarkUp(films) {\n    return films.map(film => {\n        const { overview, title, backdrop_path } = film;\n        const image = backdrop_path ?\n            `https://image.tmdb.org/t/p/w500/${backdrop_path}` :\n            'https://via.placeholder.com/500x281';\n        return `\n    <li>\n  <h2>${title}</h2>\n  <img src=\"${image}\" alt=\"${title}\">\n  <p>${overview}</p>\n</li>`\n    }).join('');\n}","const API_KEY = 'f4fc383e5974e2ac547a6b655d2da3b0';\nconst DEFAULT_PAGE = 1;\nlet page = DEFAULT_PAGE;\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie'\n\nfunction resetPage() {\n    page = DEFAULT_PAGE;\n}\n\nconst options = {\n    method:'get',\n    headers: {\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNGZjMzgzZTU5NzRlMmFjNTQ3YTZiNjU1ZDJkYTNiMCIsInN1YiI6IjY1NGMxNmFhNDFhNTYxMzM2YTI0OWZkMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xrML7A2wgEuY19W-c15nANg6x6o7f5jv_k3EA8kmHGo',\n        \n    }\n}\n\nfunction fetchFilmListByName(movieName) {\n    const searchParams = new URLSearchParams({\n        query: movieName,\n        include_adult: false,\n        language: 'en-US',\n        page,\n    })\n    return fetch(`${BASE_URL}?${searchParams}`, options)\n        .then(res => {\n        if (!res.ok) {\n            throw new Error(statusText);\n        }\n            return res.json();\n    \n        }).then(data => {\n          \n            const filmsdata = {\n                data: data.results,\n                isLastPage: page === data.total_pages,\n            }\n            page += 1;\n            return filmsdata;\n    })\n}\n\nexport { fetchFilmListByName, resetPage }","import 'modern-normalize';\nimport { createFilmsListMarkUp } from './filmListmarkUp.js';\nimport { fetchFilmListByName, resetPage } from './fetchFilm.js'\n\nconst filmList = document.querySelector('.film-list');\nconst form = document.querySelector('.searchbox');\nconst loadMoreBtn = document.querySelector('.load-more')\n\nlet movieName = '';\nform.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadMoreBtnClick)\n\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    filmList.innerHTML = '';\n    movieName = e.target.elements.filmToSearch.value;\n    if (!movieName) {\n       return alert('Please eneter film name!');\n        \n    }\n    resetPage();\n    fetchFilmListByName(movieName).then(list => {\n        if (list.isLastPage) {\n            loadMoreBtn.classList.remove('is-visible');\n        } else {\n            loadMoreBtn.classList.add('is-visible');\n        }\n        \n        filmList.insertAdjacentHTML('beforeend', createFilmsListMarkUp(list.data))\n    })\n\n}\n\n\nfunction onLoadMoreBtnClick(e) {\n    e.preventDefault();\n    fetchFilmListByName(movieName).then(list => {\n        filmList.insertAdjacentHTML('beforeend', createFilmsListMarkUp(list.data))\n        if (list.isLastPage) { \n            loadMoreBtn.classList.remove('is-visible');\n}\n\n    })\n}\n"],"names":["$310a7626016835b4$export$268d77e8ee9a837b","films","map","film","overview","title","backdrop_path","join","$d442b68bcff201eb$var$page","$d442b68bcff201eb$var$options","method","headers","Authorization","$d442b68bcff201eb$export$9b1a405b459fdfbd","movieName","searchParams","URLSearchParams","query","include_adult","language","fetch","then","res","ok","Error","statusText","json","data","filmsdata","results","isLastPage","total_pages","$0fdceb069b98d397$var$filmList","document","querySelector","$0fdceb069b98d397$var$form","$0fdceb069b98d397$var$loadMoreBtn","$0fdceb069b98d397$var$movieName","addEventListener","e","preventDefault","innerHTML","target","elements","filmToSearch","value","alert","list","classList","remove","add","insertAdjacentHTML"],"version":3,"file":"filmApi.9634f428.js.map"}